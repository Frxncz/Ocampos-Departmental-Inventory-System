<script>

let currentDepartment = "";

/* Open department UI */
function openDepartment(name) {

  currentDepartment = name;

  // Switch views
  document.getElementById("dashboardView").classList.add("hidden");
  document.getElementById("departmentView").classList.remove("hidden");

  // Set dynamic title
  document.getElementById("departmentTitle").innerText = name + " Department";

  // Load department data
  loadSampleData(); // Replace later with real Sheets data
}


/* Back to dashboard */
function goBack() {
  document.getElementById("departmentView").classList.add("hidden");
  document.getElementById("dashboardView").classList.remove("hidden");
}


/* Temporary sample data */
function loadSampleData() {

  const table = document.getElementById("itemTable");
  table.innerHTML = "";

  const data = [
    {code:"ITM001", name:"Ballpen", qty:120},
    {code:"ITM002", name:"Notebook", qty:80},
    {code:"ITM003", name:"Printer Ink", qty:25}
  ];

  data.forEach(item => {
    table.innerHTML += `
      <tr>
        <td>${item.code}</td>
        <td>${item.name}</td>
        <td>${item.qty}</td>
        <td>
          <button class="action-btn edit" onclick="editItem('${item.code}')">Edit</button>
          <button class="action-btn delete" onclick="deleteItem('${item.code}')">Delete</button>
        </td>
      </tr>
    `;
  });
}


/* Add item */
function addItem() {
  alert("Add item for " + currentDepartment);
}


/* Edit item */
function editItem(code) {
  alert("Edit item: " + code);
}


/* Delete item */
function deleteItem(code) {
  if (confirm("Delete item " + code + "?")) {
    alert("Item deleted");
  }
}

</script>